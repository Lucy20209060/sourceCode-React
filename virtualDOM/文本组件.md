当node类型为文本时是不算Virtual DOM元素的 但React为了保持渲染的一致性 将其封装为文本组件ReactDOMTextComponent

在执行mountComponent方法时 ReactDOMTextComponent通过transaction.useCreateElement判断该文本是否是通过createElement方法创建的节点 如果是则为该节点创建相应的标签和标志domID 这样每个文本节点也能和其他React节点一样拥有自己的唯一标识 同时拥有Virtual DOM diff的权利 如果不是createElement创建的文本 React不在为其创建<span>和domID标识 而是将标签和属性注释掉 直接返回文本内容

不在为裸露的文本内容包裹<span>标签 是React15.0的更新点之一 此前 裸露的文本包裹<span>标签 其实并没有产生任何作用 反而增加不必要的标签 因而15.0去掉这些操作